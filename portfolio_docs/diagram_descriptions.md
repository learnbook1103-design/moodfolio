# 📊 MoodFolio 다이어그램 설명서

이 문서는 MoodFolio 프로젝트의 3가지 핵심 다이어그램에 대한 간단한 설명을 제공합니다.

---

## 1. 🗂️ ERD (개체 관계 다이어그램)

### 목적
데이터베이스의 테이블 구조와 테이블 간의 관계를 시각화하여 데이터 모델을 이해하기 쉽게 표현합니다.

### 핵심 내용
- **인증 시스템**: Supabase의 기본 인증 테이블(`auth_users`)을 활용
- **사용자 프로필**: 애플리케이션 전용 사용자 정보를 저장하는 `user_profiles` 테이블
- **포트폴리오 데이터**: 사용자가 생성한 포트폴리오를 JSON 형태로 저장하는 `portfolios` 테이블
- **시스템 관리**: AI 사용 로그(`ai_logs`), 공지사항(`notices`), 템플릿 설정(`template_config`) 테이블

### 주요 관계
- `auth_users` ↔ `user_profiles`: 1:1 관계 (한 사용자당 하나의 프로필)
- `user_profiles` ↔ `portfolios`: 1:N 관계 (한 사용자가 여러 포트폴리오 소유 가능)
- `auth_users` ↔ `ai_logs`: 1:N 관계 (사용자의 AI 사용 기록 추적)

### 설계 포인트
**데이터 정규화**를 통해 사용자의 기본 정보(이름, 이메일 등)와 포트폴리오별 데이터를 분리하여 중복을 제거하고 데이터 일관성을 유지합니다.

---

## 2. 👥 유즈케이스 다이어그램

### 목적
시스템의 주요 사용자(액터)와 그들이 수행할 수 있는 기능(유즈케이스)을 한눈에 파악할 수 있도록 표현합니다.

### 핵심 내용
시스템은 **3가지 주요 액터**를 대상으로 설계되었습니다:

#### 1️⃣ 사용자 (Job Seeker)
- 회원가입 및 로그인
- 포트폴리오 생성 및 관리
- AI 코치 '포포'와 대화하며 포트폴리오 작성 지원 받기
- 포트폴리오 저장/불러오기 및 공유

#### 2️⃣ 채용 담당자 (Viewer)
- 공유된 포트폴리오 열람
- AI 도슨트 '무무'와 대화하며 후보자 정보 탐색

#### 3️⃣ 관리자 (Admin)
- 대시보드를 통한 시스템 통계 조회
- 사용자 관리
- 공지사항 작성 및 관리
- 템플릿 활성화/비활성화 관리

### 설계 포인트
**역할 기반 접근 제어**를 통해 각 사용자 유형에 맞는 기능을 제공하며, 특히 채용 담당자를 위한 **도슨트 모드**는 MoodFolio만의 차별화된 기능입니다.

---

## 3. 🏗️ 시스템 아키텍처 다이어그램

### 목적
프론트엔드, 백엔드, 외부 서비스 간의 연결 구조와 데이터 흐름을 시각화하여 전체 시스템의 구조를 이해할 수 있도록 합니다.

### 핵심 내용

#### 클라이언트 계층 (Client)
- **Next.js** 기반의 React 애플리케이션
- 사용자 인터페이스, 인증 클라이언트, API 클라이언트로 구성

#### 서버 계층 (Server)
- **FastAPI** 기반의 Python 백엔드
- 주요 서비스:
  - **API Gateway**: 모든 HTTP 요청의 진입점
  - **인증 서비스**: OAuth 기반 소셜 로그인 처리
  - **AI 서비스**: Google Gemini와 연동하여 포포/무무 챗봇 및 자동 생성 기능 제공
  - **관리자 서비스**: 대시보드 및 시스템 관리 기능
  - **동기화 서비스**: 게스트 데이터를 회원 계정으로 이관

#### 외부 서비스 계층 (External)
- **Google Gemini AI**: LangChain을 통한 AI 기능 제공
- **Supabase**: PostgreSQL 데이터베이스 및 인증 서비스
- **OAuth 제공자**: Google, Kakao, Naver 소셜 로그인

### 데이터 흐름
1. 사용자가 UI에서 요청 → API 클라이언트를 통해 백엔드로 전송
2. 백엔드의 각 서비스가 요청 처리
3. 필요시 외부 AI 서비스 호출 또는 데이터베이스 조회/저장
4. 결과를 클라이언트로 반환하여 UI 업데이트

### 설계 포인트
**마이크로서비스 지향 아키텍처**로 각 기능을 독립적인 서비스로 분리하여 유지보수성과 확장성을 확보했습니다. 또한 **외부 서비스 통합**을 통해 강력한 AI 기능과 안정적인 인증/데이터 관리를 구현했습니다.

---

## 📌 다이어그램 활용 가이드

### 포트폴리오 작성 시
- **ERD**: "데이터 설계 및 정규화" 섹션에서 활용
- **유즈케이스**: "시스템 기능 개요" 또는 "사용자 시나리오" 섹션에서 활용
- **시스템 아키텍처**: "기술 스택 및 시스템 구조" 섹션에서 활용

### 면접 준비 시
- ERD를 보며 "왜 이렇게 테이블을 분리했는지" 설명 준비
- 유즈케이스를 보며 "각 사용자 유형별 핵심 기능" 설명 준비
- 아키텍처를 보며 "프론트엔드와 백엔드의 역할 분담" 설명 준비

---

## 🔗 관련 문서
- [ERD 상세 문서](file:///c:/Users/PC/moodfolio/portfolio_docs/erd.md)
- [유즈케이스 상세 문서](file:///c:/Users/PC/moodfolio/portfolio_docs/usecase_diagram.md)
- [시스템 아키텍처 상세 문서](file:///c:/Users/PC/moodfolio/portfolio_docs/system_architecture.md)
